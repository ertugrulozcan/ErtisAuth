@using ErtisAuth.Hub.Helpers
@using ErtisAuth.Hub.ViewModels
@model ErtisAuth.Hub.ViewModels.Memberships.MembershipViewModel

@{
    ViewData["Title"] = "Memberships";
}

<div class="toolbar" id="kt_toolbar">
    <div id="kt_toolbar_container" class="container-fluid d-flex flex-stack">
        <div data-kt-swapper="true" data-kt-swapper-mode="prepend" data-kt-swapper-parent="{default: '#kt_content_container', 'lg': '#kt_toolbar_container'}" class="page-title d-flex align-items-center flex-wrap me-3 mb-5 mb-lg-0">
            <h1 class="d-flex align-items-center text-dark fw-bolder fs-3 my-1">Membership Details</h1>
            <span class="h-20px border-gray-200 border-start mx-4"></span>
            
            @{
                var breadcrumb = BreadcrumbBuilder
                    .Add("Home", "Index", "Home")
                    .Add("Memberships", "Index", "Memberships")
                    .Add(Model.Id, "Detail", "Memberships", new { id = Model.Id });
            }
            
            <partial name="Partials/_Breadcrumb" model="@breadcrumb"/>
        </div>
		
        <div class="d-flex align-items-center py-1">
            <partial name="Partials/_AuthorizedButton" model="@AuthorizedButtonViewModel.SaveButton(Model.Id, "memberships", "UpdateMembershipForm")" />
        </div>
    </div>
</div>

<div class="post d-flex flex-column-fluid" id="kt_post">
	<div id="kt_content_container" class="container-fluid">
        <partial name="Partials/_AlertBox" model="Model" />
        
        <div class="d-flex flex-column flex-lg-row">
            <div class="flex-lg-row-fluid me-10">
	            <div class="card card-bordered mb-5 mb-xl-10">
		            <div class="card-header">
			            <div class="card-title">
				            <div class="d-flex align-items-center position-relative my-1">
					            <h4>Membership Info</h4>
				            </div>
			            </div>
		            </div>
                                    	
		            <div class="card-body">
			            <form id="UpdateMembershipForm" method="post" asp-controller="Memberships" asp-action="Update">
				            @Html.HiddenFor(x => x.Id)
                        
				            <div class="mb-5">
					            <label class="form-label required">Name</label>
					            <input type="text" class="form-control" placeholder="Name" asp-for="Name">
					            <span class="validation-error-span" asp-validation-for="Name"></span>
				            </div>
				            
				            <div class="mb-5">
					            <label class="form-label required">Expires In</label>
					            <div class="input-group">
						            <input type="number" class="form-control" placeholder="Expires In" asp-for="ExpiresIn" />
						            <span class="input-group-text">seconds</span>
					            </div>
					            <span class="validation-error-span" asp-validation-for="ExpiresIn"></span>
				            </div>
				            
				            <div class="mb-5">
					            <label class="form-label required">Refresh Token Expires In</label>
					            <div class="input-group">
						            <input type="number" class="form-control" placeholder="Refresh Token Expires In" asp-for="RefreshTokenExpiresIn" />
						            <span class="input-group-text">seconds</span>
					            </div>
					            <span class="validation-error-span" asp-validation-for="RefreshTokenExpiresIn"></span>
				            </div>
				            
				            <div class="mb-5">
					            <label class="form-label required">Secret Key</label>
					            <div class="input-group">
						            <input id="membershipSecretKeyInput" type="text" class="form-control" placeholder="Secret Key" asp-for="SecretKey" disabled />
						            <div class="input-group-append">
							            <button class="btn btn-white" type="button" onClick="generateRandomSecretKey()">Generate</button>
						            </div>
					            </div>
					            <span class="validation-error-span" asp-validation-for="SecretKey"></span>
				            </div>
				            
				            <div class="mb-5">
					            <label class="form-label required">Hash Algorithm</label>
					            <select class="form-control form-select" id="hashAlgorithmDropdown" asp-for="HashAlgorithm" asp-items="Model.HashAlgorithmList"></select>
					            <span class="validation-error-span" asp-validation-for="HashAlgorithm"></span>
				            </div>
				            
				            <div class="mb-5">
					            <label class="form-label required">Encoding</label>
					            <select class="form-control form-select" id="encodingsDropdown" asp-for="DefaultEncoding" asp-items="Model.EncodingList"></select>
					            <span class="validation-error-span" asp-validation-for="DefaultEncoding"></span>
				            </div>
				            
				            <div class="mb-5">
					            <label class="form-label required">Default Language</label>
					            <select class="form-control form-select" id="languageDropdown" asp-for="DefaultLanguage" asp-items="Model.LanguageList"></select>
					            <span class="validation-error-span" asp-validation-for="DefaultLanguage"></span>
				            </div>
			            </form>
		            </div>
	            </div>
            </div>

            <div class="flex-column flex-lg-row-auto w-lg-300px w-xl-400px">
                <partial name="Partials/_ResourceDetailsCard" />
            </div>
        </div>
	</div>
</div>